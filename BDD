-- Création de la table 'Produits'
CREATE TABLE Produits (
    id INT AUTO_INCREMENT PRIMARY KEY,
    nom VARCHAR(255) NOT NULL,
    description TEXT,
    prix DECIMAL(10, 2) NOT NULL,
    en_stock INT NOT NULL
);

-- Création de la table 'Utilisateurs'
CREATE TABLE Utilisateurs (
    id INT AUTO_INCREMENT PRIMARY KEY,
    nom VARCHAR(255) NOT NULL,
    email VARCHAR(255) UNIQUE NOT NULL,
    mot_de_passe VARCHAR(255) NOT NULL
);

-- Création de la table 'Paniers'
CREATE TABLE Paniers (
    id INT AUTO_INCREMENT PRIMARY KEY,
    utilisateur_id INT,
    date_creation DATETIME DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (utilisateur_id) REFERENCES Utilisateurs(id)
);

-- Création de la table 'ArticlesPanier' pour stocker les produits dans le panier
CREATE TABLE ArticlesPanier (
    id INT AUTO_INCREMENT PRIMARY KEY,
    panier_id INT,
    produit_id INT,
    quantite INT NOT NULL,
    FOREIGN KEY (panier_id) REFERENCES Paniers(id),
    FOREIGN KEY (produit_id) REFERENCES Produits(id)
);

-- Création de la table 'Commandes'
CREATE TABLE Commandes (
    id INT AUTO_INCREMENT PRIMARY KEY,
    utilisateur_id INT,
    date_commande DATETIME DEFAULT CURRENT_TIMESTAMP,
    statut VARCHAR(100) DEFAULT 'En cours',
    FOREIGN KEY (utilisateur_id) REFERENCES Utilisateurs(id)
);

-- Création de la table 'ArticlesCommande' pour stocker les détails des commandes
CREATE TABLE ArticlesCommande (
    id INT AUTO_INCREMENT PRIMARY KEY,
    commande_id INT,
    produit_id INT,
    quantite INT NOT NULL,
    prix_unitaire DECIMAL(10, 2) NOT NULL,
    FOREIGN KEY (commande_id) REFERENCES Commandes(id),
    FOREIGN KEY (produit_id) REFERENCES Produits(id)
);

